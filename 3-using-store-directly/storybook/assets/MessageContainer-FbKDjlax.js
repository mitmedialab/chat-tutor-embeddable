import{S as B,i as N,s as x,a as D,e as _,b as E,c as F,f as M,d as b,t as f,m as v,o as d,g as $,p as G,q as H,u as J,v as L,w as m,x as C,y as w,z as S}from"./index-Rea00llB.js";import{e as h,M as A}from"./Message-OkQi32Fa.js";import{a as K,u as O,b as P,r as Q,m as R}from"./messageStore-n1Ty7YHs.js";function U(i){D(i,"svelte-1dj2ob3",".container.svelte-1dj2ob3{max-height:100%;overflow-y:scroll}")}function y(i,e,s){const o=i.slice();return o[14]=e[s].role,o[15]=e[s].content,o[16]=e[s].timestamp,o[18]=s,o}function V(i){let e,s;return e=new A({props:{role:i[14],content:i[15],timestamp:i[16]}}),{c(){C(e.$$.fragment)},m(o,a){w(e,o,a),s=!0},p(o,a){const r={};a&8&&(r.role=o[14]),a&8&&(r.content=o[15]),a&8&&(r.timestamp=o[16]),e.$set(r)},i(o){s||(f(e.$$.fragment,o),s=!0)},o(o){d(e.$$.fragment,o),s=!1},d(o){S(e,o)}}}function W(i){let e,s,o={role:i[14],content:i[15],timestamp:i[16],isLast:!0};return e=new A({props:o}),i[10](e),{c(){C(e.$$.fragment)},m(a,r){w(e,a,r),s=!0},p(a,r){const t={};r&8&&(t.role=a[14]),r&8&&(t.content=a[15]),r&8&&(t.timestamp=a[16]),e.$set(t)},i(a){s||(f(e.$$.fragment,a),s=!0)},o(a){d(e.$$.fragment,a),s=!1},d(a){i[10](null),S(e,a)}}}function k(i){let e,s,o,a;const r=[W,V],t=[];function p(n,c){return n[18]===n[3].length-1?0:1}return e=p(i),s=t[e]=r[e](i),{c(){s.c(),o=J()},m(n,c){t[e].m(n,c),M(n,o,c),a=!0},p(n,c){let l=e;e=p(n),e===l?t[e].p(n,c):(L(),d(t[l],1,1,()=>{t[l]=null}),v(),s=t[e],s?s.p(n,c):(s=t[e]=r[e](n),s.c()),f(s,1),s.m(o.parentNode,o))},i(n){a||(f(s),a=!0)},o(n){d(s),a=!1},d(n){n&&$(o),t[e].d(n)}}}function X(i){let e,s,o,a,r=h(i[3]),t=[];for(let n=0;n<r.length;n+=1)t[n]=k(y(i,r,n));const p=n=>d(t[n],1,1,()=>{t[n]=null});return{c(){e=_("div");for(let n=0;n<t.length;n+=1)t[n].c();s=E(),o=_("div"),F(e,"class","container svelte-1dj2ob3")},m(n,c){M(n,e,c);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null);b(e,s),b(e,o),i[11](o),i[12](e),a=!0},p(n,[c]){if(c&9){r=h(n[3]);let l;for(l=0;l<r.length;l+=1){const g=y(n,r,l);t[l]?(t[l].p(g,c),f(t[l],1)):(t[l]=k(g),t[l].c(),f(t[l],1),t[l].m(e,s))}for(L(),l=r.length;l<t.length;l+=1)p(l);v()}},i(n){if(!a){for(let c=0;c<r.length;c+=1)f(t[c]);a=!0}},o(n){t=t.filter(Boolean);for(let c=0;c<t.length;c+=1)d(t[c]);a=!1},d(n){n&&$(e),G(t,n),i[11](null),i[12](null)}}}function Y(i,e,s){let o;H(i,R,u=>s(3,o=u));let a,r,t;const p=()=>r.scrollTo(0,t.offsetTop),n=()=>o,c=()=>o[o.length-1],l=u=>(K(u),p(),u),g=u=>{O(u),p()},T=u=>{P(u),p()},j=()=>{Q(),p()};function q(u){m[u?"unshift":"push"](()=>{a=u,s(0,a)})}function I(u){m[u?"unshift":"push"](()=>{t=u,s(2,t)})}function z(u){m[u?"unshift":"push"](()=>{r=u,s(1,r)})}return[a,r,t,o,n,c,l,g,T,j,q,I,z]}class Z extends B{constructor(e){super(),N(this,e,Y,X,x,{getAll:4,getLast:5,addMessage:6,updateLastMessageContent:7,appendLastMessageContent:8,clearMessages:9},U)}get getAll(){return this.$$.ctx[4]}get getLast(){return this.$$.ctx[5]}get addMessage(){return this.$$.ctx[6]}get updateLastMessageContent(){return this.$$.ctx[7]}get appendLastMessageContent(){return this.$$.ctx[8]}get clearMessages(){return this.$$.ctx[9]}}Z.__docgen={version:3,name:"MessageContainer.svelte",data:[{visibility:"public",description:null,keywords:[],name:"getAll",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function"}},{visibility:"public",description:null,keywords:[],name:"getLast",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function"}},{visibility:"public",description:null,keywords:[],name:"addMessage",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function",params:[{name:"message"}]}},{visibility:"public",description:null,keywords:[],name:"updateLastMessageContent",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function",params:[{name:"content"}]}},{visibility:"public",description:null,keywords:[],name:"appendLastMessageContent",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function",params:[{name:"content"}]}},{visibility:"public",description:null,keywords:[],name:"clearMessages",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};export{Z as M};
