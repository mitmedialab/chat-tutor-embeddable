import{S as B,i as N,s as D,a as E,e as _,b as F,c as G,f as M,d as y,t as f,m as v,o as d,g as L,p as H,q as J,u as K,v as w,w as m,x as C,y as $,z as S}from"./index-Rea00llB.js";import{e as b,M as A}from"./Message-OkQi32Fa.js";import{a as O,u as P,b as Q,r as R,m as U}from"./messageStore-n1Ty7YHs.js";function V(i){E(i,"svelte-1dj2ob3",".container.svelte-1dj2ob3{max-height:100%;overflow-y:scroll}")}function k(i,e,s){const a=i.slice();return a[15]=e[s].role,a[16]=e[s].content,a[17]=e[s].timestamp,a[19]=s,a}function W(i){let e,s;return e=new A({props:{role:i[15],content:i[16],timestamp:i[17]}}),{c(){C(e.$$.fragment)},m(a,o){$(e,a,o),s=!0},p(a,o){const l={};o&16&&(l.role=a[15]),o&16&&(l.content=a[16]),o&16&&(l.timestamp=a[17]),e.$set(l)},i(a){s||(f(e.$$.fragment,a),s=!0)},o(a){d(e.$$.fragment,a),s=!1},d(a){S(e,a)}}}function X(i){let e,s,a={role:i[15],content:i[16],timestamp:i[17],isLast:!0};return e=new A({props:a}),i[11](e),{c(){C(e.$$.fragment)},m(o,l){$(e,o,l),s=!0},p(o,l){const n={};l&16&&(n.role=o[15]),l&16&&(n.content=o[16]),l&16&&(n.timestamp=o[17]),e.$set(n)},i(o){s||(f(e.$$.fragment,o),s=!0)},o(o){d(e.$$.fragment,o),s=!1},d(o){i[11](null),S(e,o)}}}function h(i){let e,s,a,o;const l=[X,W],n=[];function p(t,c){return t[19]===t[0].length-1?0:1}return e=p(i),s=n[e]=l[e](i),{c(){s.c(),a=K()},m(t,c){n[e].m(t,c),M(t,a,c),o=!0},p(t,c){let r=e;e=p(t),e===r?n[e].p(t,c):(w(),d(n[r],1,1,()=>{n[r]=null}),v(),s=n[e],s?s.p(t,c):(s=n[e]=l[e](t),s.c()),f(s,1),s.m(a.parentNode,a))},i(t){o||(f(s),o=!0)},o(t){d(s),o=!1},d(t){t&&L(a),n[e].d(t)}}}function Y(i){let e,s,a,o,l=b(i[4]),n=[];for(let t=0;t<l.length;t+=1)n[t]=h(k(i,l,t));const p=t=>d(n[t],1,1,()=>{n[t]=null});return{c(){e=_("div");for(let t=0;t<n.length;t+=1)n[t].c();s=F(),a=_("div"),G(e,"class","container svelte-1dj2ob3")},m(t,c){M(t,e,c);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null);y(e,s),y(e,a),i[12](a),i[13](e),o=!0},p(t,[c]){if(c&19){l=b(t[4]);let r;for(r=0;r<l.length;r+=1){const g=k(t,l,r);n[r]?(n[r].p(g,c),f(n[r],1)):(n[r]=h(g),n[r].c(),f(n[r],1),n[r].m(e,s))}for(w(),r=l.length;r<n.length;r+=1)p(r);v()}},i(t){if(!o){for(let c=0;c<l.length;c+=1)f(n[c]);o=!0}},o(t){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)d(n[c]);o=!1},d(t){t&&L(e),H(n,t),i[12](null),i[13](null)}}}function Z(i,e,s){let a;J(i,U,u=>s(4,a=u));let{messages:o=[]}=e,l,n,p;const t=()=>n.scrollTo(0,p.offsetTop),c=()=>o,r=()=>o[o.length-1],g=u=>(O(u),t(),u),T=u=>{P(u),t()},j=u=>{Q(u),t()},q=()=>{R(),t()};function I(u){m[u?"unshift":"push"](()=>{l=u,s(1,l)})}function x(u){m[u?"unshift":"push"](()=>{p=u,s(3,p)})}function z(u){m[u?"unshift":"push"](()=>{n=u,s(2,n)})}return i.$$set=u=>{"messages"in u&&s(0,o=u.messages)},[o,l,n,p,a,c,r,g,T,j,q,I,x,z]}class ee extends B{constructor(e){super(),N(this,e,Z,Y,D,{messages:0,getAll:5,getLast:6,addMessage:7,updateLastMessageContent:8,appendLastMessageContent:9,clearMessages:10},V)}get getAll(){return this.$$.ctx[5]}get getLast(){return this.$$.ctx[6]}get addMessage(){return this.$$.ctx[7]}get updateLastMessageContent(){return this.$$.ctx[8]}get appendLastMessageContent(){return this.$$.ctx[9]}get clearMessages(){return this.$$.ctx[10]}}ee.__docgen={version:3,name:"MessageContainer.svelte",data:[{visibility:"public",description:null,keywords:[],name:"messages",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"array",type:"array"}},{visibility:"public",description:null,keywords:[],name:"getAll",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function"}},{visibility:"public",description:null,keywords:[],name:"getLast",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function"}},{visibility:"public",description:null,keywords:[],name:"addMessage",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function",params:[{name:"message"}]}},{visibility:"public",description:null,keywords:[],name:"updateLastMessageContent",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function",params:[{name:"content"}]}},{visibility:"public",description:null,keywords:[],name:"appendLastMessageContent",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function",params:[{name:"content"}]}},{visibility:"public",description:null,keywords:[],name:"clearMessages",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};export{ee as M};
