import{S as M,i as S,s as v,a as k,e as x,x as A,c as L,f as b,y as C,t as I,o as P,g as T,z as D,A as H,w as $}from"./index-Rea00llB.js";import{d as q}from"./index-I2CuepqY.js";import{M as z}from"./MessageContainer-xMjGi7K1.js";import{u as i}from"./utils-EZVoP3fW.js";import"./Message-OkQi32Fa.js";import"./spread-rEx3vLA9.js";import"./messageStore-n1Ty7YHs.js";function E(e){k(e,"svelte-lr6atd","div.svelte-lr6atd{border:1px solid black;height:500px}")}function O(e){let s,t,a,n={};return t=new z({props:n}),e[2](t),{c(){s=x("div"),A(t.$$.fragment),L(s,"class","svelte-lr6atd")},m(r,o){b(r,s,o),C(t,s,null),a=!0},p(r,[o]){const _={};t.$set(_)},i(r){a||(I(t.$$.fragment,r),a=!0)},o(r){P(t.$$.fragment,r),a=!1},d(r){r&&T(s),e[2](null),D(t)}}}const V=new q.LoremIpsum({sentencesPerParagraph:{max:8,min:4},wordsPerSentence:{max:16,min:4}}),m=()=>[...V.generateParagraphs(1)].reverse(),d={chatting:async e=>{await i(100),e.addMessage({role:"assistant",content:"Hello, I'm the assistant!",timestamp:new Date().toLocaleTimeString(),sender:"Assistant"}),await i(1e3),e.addMessage({role:"user",content:"Hello, I'm the user!",timestamp:new Date().toLocaleTimeString(),sender:"Student"}),await i(1e3),e.updateLastMessageContent("Hello, I'm the user! I'm updating my message!");const s=m();for(;s.length>0;)await i(10),e.appendLastMessageContent(s.pop());await i(1e3),e.addMessage({role:"assistant",content:"Hello, I'm the assistant!",timestamp:new Date().toLocaleTimeString(),sender:"Assistant"})},scroll:async e=>{let s=0,t=!0;for(;s<10;){await i(100);const a=m();for(e.addMessage({role:t?"assistant":"user",content:a.pop(),timestamp:new Date().toLocaleTimeString(),sender:t?"Assistant":"Student"});a.length>0;)await i(10),e.appendLastMessageContent(a.pop());s++,t=!t}}};function j(e,s,t){let{testcase:a}=s,n;H(()=>d[a](n));function r(o){$[o?"unshift":"push"](()=>{n=o,t(0,n)})}return e.$$set=o=>{"testcase"in o&&t(1,a=o.testcase)},e.$$.update=()=>{e.$$.dirty&3&&n&&a&&(n==null||n.clearMessages(),d[a](n))},[n,a,r]}class y extends M{constructor(s){super(),S(this,s,j,O,v,{testcase:1},E)}}y.__docgen={version:3,name:"AddMessage.svelte",data:[{visibility:"public",description:null,keywords:[],name:"testcase",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};const R={title:"AddMesssage",component:y,tags:["autodocs"],parameters:{layout:"fullscreen"},argTypes:{testcase:{control:{type:"select"},options:["chatting","scroll"],defaultValue:void 0}}},c={args:{testcase:"chatting"}},l={args:{testcase:"scroll"}};var p,g,u;c.parameters={...c.parameters,docs:{...(p=c.parameters)==null?void 0:p.docs,source:{originalSource:`{
  args: {
    testcase: 'chatting'
  }
}`,...(u=(g=c.parameters)==null?void 0:g.docs)==null?void 0:u.source}}};var h,f,w;l.parameters={...l.parameters,docs:{...(h=l.parameters)==null?void 0:h.docs,source:{originalSource:`{
  args: {
    testcase: 'scroll'
  }
}`,...(w=(f=l.parameters)==null?void 0:f.docs)==null?void 0:w.source}}};const U=["chatting","scroll"];export{U as __namedExportsOrder,c as chatting,R as default,l as scroll};
