import{S as C,i as A,s as R,a as D,e as m,b,c as g,B as S,d,f as $,l as B,n as h,g as y,h as H,x as k,y as _,t as w,j as T,o as x,z as M,k as j,A as E,C as F,w as G}from"./index-Rea00llB.js";import{I as O}from"./Input-wN7rbXfz.js";import{M as J}from"./MessageContainer-FbKDjlax.js";import{n as q,c as K,d as N}from"./messageStore-n1Ty7YHs.js";import{s as P}from"./Message-OkQi32Fa.js";function Q(a){D(a,"svelte-zksmvm",'@import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@200;400&family=Rethink+Sans&display=block");.container.svelte-zksmvm{color:black;font-family:"Rethink Sans", sans-serif;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;font-size:1.5rem;padding:0.5rem 1rem;border-bottom:2px solid lightgray;background-color:white}button.svelte-zksmvm{float:right;align-self:self-end;border-radius:10%}button.svelte-zksmvm:hover{background-color:lightgray}')}function U(a){let e,o,r,s,v,n,i,p,u,t;return{c(){e=m("link"),o=b(),r=m("div"),s=m("div"),s.textContent="Chat Tutor",v=b(),n=m("div"),i=m("button"),p=m("span"),p.textContent="close",g(e,"rel","stylesheet"),g(e,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"),g(s,"class","title"),g(p,"class","material-symbols-outlined"),S(p,"color","red"),g(i,"class","svelte-zksmvm"),S(i,"border","1px solid red"),g(n,"class","close"),g(r,"class","container svelte-zksmvm")},m(f,c){d(document.head,e),$(f,o,c),$(f,r,c),d(r,s),d(r,v),d(r,n),d(n,i),d(i,p),u||(t=B(i,"click",a[0]),u=!0)},p:h,i:h,o:h,d(f){f&&(y(o),y(r)),y(e),u=!1,t()}}}function V(a){function e(o){H.call(this,a,o)}return[e]}class I extends C{constructor(e){super(),A(this,e,V,U,R,{},Q)}}I.__docgen={version:3,name:"Header.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[{keywords:[],visibility:"public",description:"",name:"click",parent:"button",modificators:[],locations:null}],slots:[],refs:[]};function X(a){D(a,"svelte-ql0rni",`.container.svelte-ql0rni{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;width:400px;max-height:95vh;row-gap:10px;z-index:2000}.row.svelte-ql0rni{border:1px solid #ddd;border-radius:10px;box-shadow:rgba(45, 35, 66, 0.4) 0 2px 4px,
            rgba(45, 35, 66, 0.3) 0 7px 13px -3px,
            #ddd 0 -3px 0 inset}`)}function Y(a){let e,o,r,s,v,n,i,p,u,t,f,c;s=new I({}),s.$on("click",a[5]);let L={};return i=new J({props:L}),a[6](i),t=new O({}),t.$on("send",a[2]),{c(){e=m("div"),o=m("div"),r=m("div"),k(s.$$.fragment),v=b(),n=m("div"),k(i.$$.fragment),p=b(),u=m("div"),k(t.$$.fragment),g(o,"class","row svelte-ql0rni"),g(u,"class","row svelte-ql0rni"),g(e,"class","container svelte-ql0rni")},m(l,z){$(l,e,z),d(e,o),d(o,r),_(s,r,null),d(o,v),d(o,n),_(i,n,null),d(e,p),d(e,u),_(t,u,null),c=!0},p(l,[z]){const W={};i.$set(W)},i(l){c||(w(s.$$.fragment,l),w(i.$$.fragment,l),w(t.$$.fragment,l),l&&(f||T(()=>{f=F(e,P,{duration:100}),f.start()})),c=!0)},o(l){x(s.$$.fragment,l),x(i.$$.fragment,l),x(t.$$.fragment,l),c=!1},d(l){l&&y(e),M(s),a[6](null),M(i),M(t)}}}function Z(a,e,o){let{initialMessage:r}=e,{configuration:s}=e;const v=j();let n;const i=async t=>{const f=n.addMessage({sender:"Student",role:"user",content:t.detail.message,timestamp:q()});await K(f,s),await N(n.getAll(),s,c=>n.addMessage(c),c=>n.appendLastMessageContent(c)),t.detail.onResponse()};E(()=>{r&&n.addMessage({sender:"Assistant",role:"assistant",content:r,timestamp:q()})});const p=()=>v("close");function u(t){G[t?"unshift":"push"](()=>{n=t,o(0,n)})}return a.$$set=t=>{"initialMessage"in t&&o(3,r=t.initialMessage),"configuration"in t&&o(4,s=t.configuration)},[n,v,i,r,s,p,u]}class ee extends C{constructor(e){super(),A(this,e,Z,Y,R,{initialMessage:3,configuration:4},X)}}ee.__docgen={version:3,name:"Window.svelte",data:[{visibility:"public",description:null,keywords:[],name:"initialMessage",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"configuration",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{visibility:"public",description:null,keywords:[],name:"close"}],slots:[],refs:[]};export{ee as W};
