import{S as q,i as C,s as R,a as D,e as m,b,c as g,B as S,d,f as $,l as A,n as h,g as y,h as B,x as k,y as _,t as w,j as H,o as x,z as M,k as T,C as j,w as E}from"./index-Rea00llB.js";import{I as F}from"./Input-w0rmq62v.js";import{M as G}from"./MessageContainer-FbKDjlax.js";import{n as O,c as J,d as K}from"./messageStore-n1Ty7YHs.js";import{s as N}from"./Message-OkQi32Fa.js";function P(i){D(i,"svelte-zksmvm",'@import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@200;400&family=Rethink+Sans&display=block");.container.svelte-zksmvm{color:black;font-family:"Rethink Sans", sans-serif;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;font-size:1.5rem;padding:0.5rem 1rem;border-bottom:2px solid lightgray;background-color:white}button.svelte-zksmvm{float:right;align-self:self-end;border-radius:10%}button.svelte-zksmvm:hover{background-color:lightgray}')}function Q(i){let e,a,l,s,v,o,n,p,u,t;return{c(){e=m("link"),a=b(),l=m("div"),s=m("div"),s.textContent="Chat Tutor",v=b(),o=m("div"),n=m("button"),p=m("span"),p.textContent="close",g(e,"rel","stylesheet"),g(e,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"),g(s,"class","title"),g(p,"class","material-symbols-outlined"),S(p,"color","red"),g(n,"class","svelte-zksmvm"),S(n,"border","1px solid red"),g(o,"class","close"),g(l,"class","container svelte-zksmvm")},m(f,c){d(document.head,e),$(f,a,c),$(f,l,c),d(l,s),d(l,v),d(l,o),d(o,n),d(n,p),u||(t=A(n,"click",i[0]),u=!0)},p:h,i:h,o:h,d(f){f&&(y(a),y(l)),y(e),u=!1,t()}}}function U(i){function e(a){B.call(this,i,a)}return[e]}class I extends q{constructor(e){super(),C(this,e,U,Q,R,{},P)}}I.__docgen={version:3,name:"Header.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[{keywords:[],visibility:"public",description:"",name:"click",parent:"button",modificators:[],locations:null}],slots:[],refs:[]};function V(i){D(i,"svelte-ql0rni",`.container.svelte-ql0rni{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;width:400px;max-height:95vh;row-gap:10px;z-index:2000}.row.svelte-ql0rni{border:1px solid #ddd;border-radius:10px;box-shadow:rgba(45, 35, 66, 0.4) 0 2px 4px,
            rgba(45, 35, 66, 0.3) 0 7px 13px -3px,
            #ddd 0 -3px 0 inset}`)}function X(i){let e,a,l,s,v,o,n,p,u,t,f,c;s=new I({}),s.$on("click",i[5]);let L={};return n=new G({props:L}),i[6](n),t=new F({}),t.$on("send",i[2]),{c(){e=m("div"),a=m("div"),l=m("div"),k(s.$$.fragment),v=b(),o=m("div"),k(n.$$.fragment),p=b(),u=m("div"),k(t.$$.fragment),g(a,"class","row svelte-ql0rni"),g(u,"class","row svelte-ql0rni"),g(e,"class","container svelte-ql0rni")},m(r,z){$(r,e,z),d(e,a),d(a,l),_(s,l,null),d(a,v),d(a,o),_(n,o,null),d(e,p),d(e,u),_(t,u,null),c=!0},p(r,[z]){const W={};n.$set(W)},i(r){c||(w(s.$$.fragment,r),w(n.$$.fragment,r),w(t.$$.fragment,r),r&&(f||H(()=>{f=j(e,N,{duration:100}),f.start()})),c=!0)},o(r){x(s.$$.fragment,r),x(n.$$.fragment,r),x(t.$$.fragment,r),c=!1},d(r){r&&y(e),M(s),i[6](null),M(n),M(t)}}}function Y(i,e,a){let{initialMessage:l}=e,{configuration:s}=e;const v=T();let o;const n=async t=>{const f=o.addMessage({sender:"Student",role:"user",content:t.detail.message,timestamp:O()});await J(f,s),await K(o.getAll(),s,c=>o.addMessage(c),c=>o.appendLastMessageContent(c)),t.detail.onResponse()},p=()=>v("close");function u(t){E[t?"unshift":"push"](()=>{o=t,a(0,o)})}return i.$$set=t=>{"initialMessage"in t&&a(3,l=t.initialMessage),"configuration"in t&&a(4,s=t.configuration)},[o,v,n,l,s,p,u]}class Z extends q{constructor(e){super(),C(this,e,Y,X,R,{initialMessage:3,configuration:4},V)}}Z.__docgen={version:3,name:"Window.svelte",data:[{visibility:"public",description:null,keywords:[],name:"initialMessage",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"configuration",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{visibility:"public",description:null,keywords:[],name:"close"}],slots:[],refs:[]};export{Z as W};
