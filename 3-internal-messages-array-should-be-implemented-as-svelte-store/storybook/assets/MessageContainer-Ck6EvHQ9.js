import{S as B,i as N,s as D,a as E,e as _,b as F,c as G,f as M,d as y,t as p,m as v,o as d,g as L,p as H,q as J,u as K,v as w,w as m,x as C,y as $,z as S}from"./index-z8F5HjV4.js";import{e as b,M as A}from"./Message-58QNw7Jj.js";import{a as O,u as P,b as Q,m as R,r as U}from"./messageStore-Y9H0rZ75.js";function V(i){E(i,"svelte-1dj2ob3",".container.svelte-1dj2ob3{max-height:100%;overflow-y:scroll}")}function k(i,e,s){const o=i.slice();return o[14]=e[s].role,o[15]=e[s].content,o[16]=e[s].timestamp,o[18]=s,o}function W(i){let e,s;return e=new A({props:{role:i[14],content:i[15],timestamp:i[16]}}),{c(){C(e.$$.fragment)},m(o,a){$(e,o,a),s=!0},p(o,a){const r={};a&1&&(r.role=o[14]),a&1&&(r.content=o[15]),a&1&&(r.timestamp=o[16]),e.$set(r)},i(o){s||(p(e.$$.fragment,o),s=!0)},o(o){d(e.$$.fragment,o),s=!1},d(o){S(e,o)}}}function X(i){let e,s,o={role:i[14],content:i[15],timestamp:i[16],isLast:!0};return e=new A({props:o}),i[10](e),{c(){C(e.$$.fragment)},m(a,r){$(e,a,r),s=!0},p(a,r){const t={};r&1&&(t.role=a[14]),r&1&&(t.content=a[15]),r&1&&(t.timestamp=a[16]),e.$set(t)},i(a){s||(p(e.$$.fragment,a),s=!0)},o(a){d(e.$$.fragment,a),s=!1},d(a){i[10](null),S(e,a)}}}function h(i){let e,s,o,a;const r=[X,W],t=[];function f(n,c){return n[18]===n[0].length-1?0:1}return e=f(i),s=t[e]=r[e](i),{c(){s.c(),o=K()},m(n,c){t[e].m(n,c),M(n,o,c),a=!0},p(n,c){let l=e;e=f(n),e===l?t[e].p(n,c):(w(),d(t[l],1,1,()=>{t[l]=null}),v(),s=t[e],s?s.p(n,c):(s=t[e]=r[e](n),s.c()),p(s,1),s.m(o.parentNode,o))},i(n){a||(p(s),a=!0)},o(n){d(s),a=!1},d(n){n&&L(o),t[e].d(n)}}}function Y(i){let e,s,o,a,r=b(i[0]),t=[];for(let n=0;n<r.length;n+=1)t[n]=h(k(i,r,n));const f=n=>d(t[n],1,1,()=>{t[n]=null});return{c(){e=_("div");for(let n=0;n<t.length;n+=1)t[n].c();s=F(),o=_("div"),G(e,"class","container svelte-1dj2ob3")},m(n,c){M(n,e,c);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null);y(e,s),y(e,o),i[11](o),i[12](e),a=!0},p(n,[c]){if(c&3){r=b(n[0]);let l;for(l=0;l<r.length;l+=1){const g=k(n,r,l);t[l]?(t[l].p(g,c),p(t[l],1)):(t[l]=h(g),t[l].c(),p(t[l],1),t[l].m(e,s))}for(w(),l=r.length;l<t.length;l+=1)f(l);v()}},i(n){if(!a){for(let c=0;c<r.length;c+=1)p(t[c]);a=!0}},o(n){t=t.filter(Boolean);for(let c=0;c<t.length;c+=1)d(t[c]);a=!1},d(n){n&&L(e),H(t,n),i[11](null),i[12](null)}}}function Z(i,e,s){let{messages:o=[]}=e,a,r,t;const f=()=>r.scrollTo(0,t.offsetTop),n=()=>o,c=()=>o[o.length-1],l=u=>(O(u),f(),u),g=u=>{P(u),f()},T=u=>{Q(u),f()},j=()=>{U(),f()};J(()=>{const u=R.subscribe(z=>{s(0,o=z)});return()=>u()});function q(u){m[u?"unshift":"push"](()=>{a=u,s(1,a)})}function I(u){m[u?"unshift":"push"](()=>{t=u,s(3,t)})}function x(u){m[u?"unshift":"push"](()=>{r=u,s(2,r)})}return i.$$set=u=>{"messages"in u&&s(0,o=u.messages)},[o,a,r,t,n,c,l,g,T,j,q,I,x]}class ee extends B{constructor(e){super(),N(this,e,Z,Y,D,{messages:0,getAll:4,getLast:5,addMessage:6,updateLastMessageContent:7,appendLastMessageContent:8,clearMessages:9},V)}get getAll(){return this.$$.ctx[4]}get getLast(){return this.$$.ctx[5]}get addMessage(){return this.$$.ctx[6]}get updateLastMessageContent(){return this.$$.ctx[7]}get appendLastMessageContent(){return this.$$.ctx[8]}get clearMessages(){return this.$$.ctx[9]}}ee.__docgen={version:3,name:"MessageContainer.svelte",data:[{visibility:"public",description:null,keywords:[],name:"messages",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"array",type:"array"}},{visibility:"public",description:null,keywords:[],name:"getAll",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function"}},{visibility:"public",description:null,keywords:[],name:"getLast",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function"}},{visibility:"public",description:null,keywords:[],name:"addMessage",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function",params:[{name:"message"}]}},{visibility:"public",description:null,keywords:[],name:"updateLastMessageContent",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function",params:[{name:"content"}]}},{visibility:"public",description:null,keywords:[],name:"appendLastMessageContent",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function",params:[{name:"content"}]}},{visibility:"public",description:null,keywords:[],name:"clearMessages",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};export{ee as M};
